---
description: 
globs: 
alwaysApply: true
---
# ğŸ“‹ Class Status Logger

## ğŸ“‘ Ãndice
- [DescripciÃ³n General](mdc:#descripciÃ³n-general)
- [Funcionalidades Principales](mdc:#funcionalidades-principales)
- [Flujo de Usuario](mdc:#flujo-de-usuario)
  - [Estudiantes](mdc:#estudiantes)
  - [Docentes/Administradores](mdc:#docentesadministradores)
- [Arquitectura TÃ©cnica](mdc:#arquitectura-tÃ©cnica)
- [Seguridad](mdc:#seguridad)

## ğŸ” DescripciÃ³n General

**Class Status Logger** es una aplicaciÃ³n web moderna diseÃ±ada para optimizar la gestiÃ³n de asistencia estudiantil en entornos educativos. El sistema permite a los estudiantes registrar su presencia en clases de forma sencilla y a los docentes obtener informaciÃ³n detallada sobre la asistencia a lo largo del tiempo.

## âœ¨ Funcionalidades Principales

### Para Estudiantes
| Funcionalidad | DescripciÃ³n |
|---------------|-------------|
| **Registro de Asistencia** | Interfaz intuitiva para marcar presencia diaria |
| **VerificaciÃ³n de Identidad** | ValidaciÃ³n mediante nombre y DNI |
| **PrevenciÃ³n de Duplicados** | Sistema que evita mÃºltiples registros en el mismo dÃ­a |
| **ConfirmaciÃ³n Visual** | Feedback inmediato del registro exitoso |

### Para Docentes
| Funcionalidad | DescripciÃ³n |
|---------------|-------------|
| **Panel Administrativo** | Vista completa de asistencias diarias |
| **AnÃ¡lisis EstadÃ­stico** | GrÃ¡ficos y mÃ©tricas de participaciÃ³n |
| **ExportaciÃ³n de Datos** | Opciones para exportar a PDF y Google Sheets |
| **GestiÃ³n de Clases** | Control del contador de clases impartidas |
| **BÃºsqueda Avanzada** | Filtrado de estudiantes y registros |

## ğŸ‘¥ Flujo de Usuario

### Estudiantes

#### 1ï¸âƒ£ Acceso a la Plataforma
- El estudiante ingresa a la pÃ¡gina principal (`/`)
- El sistema muestra automÃ¡ticamente la fecha y hora actual
- La interfaz presenta un formulario de registro de asistencia

#### 2ï¸âƒ£ Registro de Asistencia
- **SelecciÃ³n de identidad**:
  - Elige su nombre de la lista desplegable de estudiantes
  - Ingresa su DNI para verificaciÃ³n de identidad
- **Proceso de validaciÃ³n**:
  - El sistema verifica la correspondencia entre nombre y DNI
  - Comprueba que no exista un registro previo del dÃ­a
  - Realiza el almacenamiento principal en MongoDB
  - Crea respaldo automÃ¡tico en Google Sheets
- **ConfirmaciÃ³n**: 
  - Muestra mensaje de confirmaciÃ³n con animaciÃ³n
  - Proporciona notificaciones (toast) en caso de errores

### Docentes/Administradores

#### 1ï¸âƒ£ AutenticaciÃ³n
- Acceso al formulario de login (`/login`)
- Ingreso de credenciales (email y contraseÃ±a)
- RedirecciÃ³n automÃ¡tica al panel tras verificaciÃ³n exitosa

#### 2ï¸âƒ£ Panel de Control
El panel docente estÃ¡ organizado en dos secciones principales:

##### PestaÃ±a de Asistencia
- **Vista general**:
  - Resumen de asistencia del dÃ­a con contador
  - Selector de fecha para consultar dÃ­as anteriores
- **Listado detallado**:
  - Nombres de estudiantes presentes
  - Hora exacta de registro
  - Buscador por nombre
- **Herramientas de exportaciÃ³n**:
  - BotÃ³n para generar PDF
  - BotÃ³n para exportar a Google Sheets

##### PestaÃ±a de EstadÃ­sticas
- **VisualizaciÃ³n grÃ¡fica**:
  - GrÃ¡ficos de barras para tendencias diarias
  - AnÃ¡lisis semanal y mensual
  - Porcentaje general de asistencia
- **Datos por estudiante**:
  - Lista con tasa individual de asistencia
  - OpciÃ³n para ver historial detallado por estudiante
- **GestiÃ³n acadÃ©mica**:
  - Contador de clases totales impartidas
  - BotÃ³n para incrementar contador de clases
  - ExportaciÃ³n de reportes estadÃ­sticos

## ğŸ”§ Arquitectura TÃ©cnica

### Frontend
```
ğŸ“¦ Frontend
 â”£ ğŸ“‚ React + TypeScript
 â”£ ğŸ“‚ UI/UX
 â”ƒ â”£ ğŸ“œ Tailwind CSS
 â”ƒ â”£ ğŸ“œ shadcn/ui
 â”ƒ â”— ğŸ“œ Framer Motion (animaciones)
 â”£ ğŸ“‚ Estado y Datos
 â”ƒ â”£ ğŸ“œ Context API (AuthContext)
 â”ƒ â”— ğŸ“œ React Query
 â”— ğŸ“‚ NavegaciÃ³n
   â”— ğŸ“œ React Router
```

### Backend Serverless
```
ğŸ“¦ Funciones Netlify
 â”£ ğŸ“œ registrar-asistencia.ts
 â”£ ğŸ“œ get-asistencias.ts
 â”£ ğŸ“œ get-statistics.ts
 â”— ğŸ“œ get-class-count.ts
```

### Servicios
```
ğŸ“¦ Servicios
 â”£ ğŸ“œ mongoService.ts (ConexiÃ³n a MongoDB)
 â”£ ğŸ“œ sheetsService.ts (IntegraciÃ³n con Google Sheets)
 â”— ğŸ“œ classesService.ts (GestiÃ³n de clases)
```

### Componentes Clave
- **Navigation**: NavegaciÃ³n consistente en toda la aplicaciÃ³n
- **ProtectedRoute**: Control de acceso a rutas protegidas
- **Componentes UI**: Extensa biblioteca de componentes reutilizables

### Core Files
- @src/main.tsx - Punto de entrada de la aplicaciÃ³n
- @src/App.tsx - Componente raÃ­z y enrutamiento
- @src/pages/Index.tsx - PÃ¡gina principal de registro de asistencia
- @src/pages/Login.tsx - PÃ¡gina de autenticaciÃ³n docente
- @src/pages/TeacherPanel.tsx - Panel principal para docentes: gestiÃ³n y consulta de asistencias y estadÃ­sticas integradas

### Servicios y Datos
- @src/services/sheetsService.ts - Servicio principal de gestiÃ³n de asistencias
- @src/services/mongoService.ts - ConexiÃ³n y operaciones con MongoDB
- @src/services/estudiantesData.ts - GestiÃ³n de datos de estudiantes
- @listado_completo_nombres.json - Base de datos local de estudiantes

### Funciones Serverless
- @netlify/functions/registrar-asistencia.ts - Endpoint para registrar asistencia
- @netlify/functions/get-asistencias.ts - Endpoint para consultar asistencias
- @netlify/functions/get-statistics.ts - Endpoint para estadÃ­sticas

### Estructura de Directorios
- `src/components/` - Componentes React reutilizables y UI
- `src/pages/` - PÃ¡ginas principales de la aplicaciÃ³n
- `src/services/` - Servicios de datos y lÃ³gica de negocio
- `src/hooks/` - Custom hooks de React
- `src/context/` - Contextos de React (Auth, Theme)
- `src/lib/` - Utilidades y funciones auxiliares
- `netlify/functions/` - Funciones serverless

### ConfiguraciÃ³n
- @vite.config.ts - ConfiguraciÃ³n de Vite
- @tailwind.config.ts - ConfiguraciÃ³n de Tailwind CSS
- @tsconfig.json - ConfiguraciÃ³n de TypeScript
- @package.json - Dependencias y scripts 


## ğŸ” Seguridad

La aplicaciÃ³n implementa mÃºltiples capas de seguridad:

- âœ… **VerificaciÃ³n de identidad** mediante DNI
- âœ… **Sistema de autenticaciÃ³n** con rutas protegidas
- âœ… **ValidaciÃ³n de datos** tanto en cliente como servidor
- âœ… **ProtecciÃ³n contra duplicados** para mantener integridad de datos
- âœ… **Respaldo automÃ¡tico** en mÃºltiples sistemas de almacenamiento

---

La aplicaciÃ³n Class Status Logger estÃ¡ diseÃ±ada con un enfoque centrado en la experiencia de usuario, ofreciendo interfaces intuitivas y atractivas tanto para estudiantes como para docentes, mientras mantiene un sistema robusto de backend para garantizar la precisiÃ³n y seguridad de los datos de asistencia.



